<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quantum Earning Platform - Final Polished v3</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="app-container">
        <!-- Main Header -->
        <header class="app-header"><!-- Header content will be added by JS --></header>
        <!-- Page Content Area -->
        <div class="page-content"><!-- All page content will be added by JS --></div>
        <!-- Final Polished Bottom Navigation Bar -->
        <nav class="bottom-nav"><!-- Nav items will be added by JS --></nav>
    </div>

    <!-- ALL MODALS / POPUPS -->

    <!-- Consent Modal (Main Popup with New Checkbox Design) -->
    <div id="consent-modal" class="modal-overlay">
        <div class="modal-content consent-modal-content">
            <div class="modal-icon lock-icon">ЁЯФТ</div>
            <h3>ржкрзНрж░ржмрзЗрж╢рзЗрж░ ржкрзВрж░рзНржмрзЗ рж╕ржорзНржорждрж┐ ржжрж┐ржи</h3>
            <p>ржЖржорж╛ржжрзЗрж░ ржкрзНрж▓рзНржпрж╛ржЯржлрж░рзНржорзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ ржЬржирзНржп ржирж┐ржЪрзЗрж░ рж╢рж░рзНрждрж╛ржмрж▓рзАрждрзЗ ржЖржкржирж╛рж░ рж╕ржорзНржорждрж┐ ржкрзНрж░ржпрж╝рзЛржЬржиред</p>
            <div class="consent-checks">
                <label class="consent-checkbox"><input type="checkbox" name="consent"><span class="checkmark"></span><span>ржЖржорж╛рж░ ржмржпрж╝рж╕ рззрзо ржмржЫрж░ ржмрж╛ рждрж╛рж░ ржмрзЗрж╢рж┐ред</span></label>
                <label class="consent-checkbox"><input type="checkbox" name="consent"><span class="checkmark"></span><span>ржЖржорж┐ ржЕржмржЧржд ржпрзЗ ржПржЦрж╛ржирзЗ ржкрзНрж░рж╛ржкрзНрждржмржпрж╝рж╕рзНржХржжрзЗрж░ ржЬржирзНржп ржмрж┐ржЬрзНржЮрж╛ржкржи ржкрзНрж░ржжрж░рзНрж╢рж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗред</span></label>
                <label class="consent-checkbox"><input type="checkbox" name="consent"><span class="checkmark"></span><span>ржЖржорж┐ ржкрзНрж░рж╛ржЗржнрзЗрж╕рж┐ ржкрж▓рж┐рж╕рж┐ ржПржмржВ рж╕ржХрж▓ ржирж┐ржпрж╝ржорж╛ржмрж▓рзА ржкржбрж╝рзЗржЫрж┐ ржУ рждрж╛рждрзЗ рж╕ржорзНржорждред</span></label>
            </div>
            <button id="consent-accept-btn" class="modal-button">ржкрзНрж░ржмрзЗрж╢ ржХрж░рзБржи</button>
        </div>
    </div>

    <!-- Helper Popup (For users who don't tick the boxes) -->
    <div id="helper-modal" class="modal-overlay">
        <div class="modal-content helper-modal-content">
            <button class="close-modal">&times;</button>
            <div class="modal-icon">ЁЯТб</div>
            <h3>рж╕ржмржЧрзБрж▓рзЛ рж╢рж░рзНрждрзЗ рж╕ржорзНржорждрж┐ ржжрж┐ржи</h3>
            <p>ржЕрзНржпрж╛ржкрзЗ ржкрзНрж░ржмрзЗрж╢ ржХрж░рждрзЗ, ржЖржкржирж╛ржХрзЗ ржЙржкрж░рзЗрж░ рждрж┐ржиржЯрж┐ рж╢рж░рзНрждрзЗржЗ ржЯрж┐ржХ ржЪрж┐рж╣рзНржи ржжрж┐рждрзЗ рж╣ржмрзЗред ржЖржорж░рж╛ ржХрж┐ ржЖржкржирж╛рж░ ржЬржирзНржп рж╕ржмржЧрзБрж▓рзЛ ржмржХрзНрж╕рзЗ ржЯрж┐ржХ ржжрж┐рзЯрзЗ ржжрзЗржм?</p>
            <div class="helper-buttons">
                <button id="helper-accept-btn" class="modal-button-blue">рж╣рзНржпрж╛ржБ, ржЯрж┐ржХ ржжрж┐ржи ржУ ржкрзНрж░ржмрзЗрж╢ ржХрж░рзБржи</button>
                <button id="helper-close-btn" class="modal-button-secondary">ржирж╛, ржЖржорж┐ ржжрж┐ржЪрзНржЫрж┐</button>
            </div>
        </div>
    </div>
    
    <!-- Other modals remain the same -->
    <div id="welcome-modal" class="modal-overlay"><!-- ... welcome modal ... --></div>
    <div id="withdraw-method-modal" class="modal-overlay"><!-- ... withdraw method modal ... --></div>
    <div id="withdraw-form-modal" class="modal-overlay"><!-- ... withdraw form modal ... --></div>
    <div id="ad-modal" class="modal-overlay"><!-- ... ad modal ... --></div>

    <!-- Main App Logic (JS - Updated for Helper Popup) -->
    <script>
    function loadContent() {
        // This is a placeholder for the large HTML content from the previous answer
        // Please use the full HTML templating from the previous response here
        document.querySelector('.app-header').innerHTML = `<div class="header-logo"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5-10-5-10 5z"></path></svg></div><h1 class="app-name">QuantumEarn</h1><div class="notification-bell"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 00-5-5.917V5a1 1 0 00-2 0v.083A6 6 0 006 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg><span class="notification-dot"></span></div>`;
        document.querySelector('.page-content').innerHTML = `<main id="home-page" class="page active-page"></main><main id="task-page" class="page"></main><main id="referral-page" class="page"></main><main id="support-page" class="page"></main><main id="setting-page" class="page"></main>`;
        document.querySelector('.bottom-nav').innerHTML = `<a href="#" class="nav-item active" data-page="home-page"><svg fill="currentColor" viewBox="0 0 20 20"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg><span>Home</span></a><a href="#" class="nav-item" data-page="task-page"><svg fill="currentColor" viewBox="0 0 20 20"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path></svg><span>Task</span></a><a href="#" class="nav-item" data-page="referral-page"><svg fill="currentColor" viewBox="0 0 20 20"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"></path></svg><span>Referral</span></a><a href="#" class="nav-item" data-page="support-page"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0c0 .993-.241 1.929-.668 2.754l-1.524-1.525a3.997 3.997 0 00.078-2.183l1.525-1.524A6.01 6.01 0 0116 10zM3.535 7.879l1.524 1.525a3.997 3.997 0 00-2.183-.079l-1.524-1.524a6.01 6.01 0 012.754.668zM10 16a6.01 6.01 0 01-2.754-.668l1.524-1.524a3.997 3.997 0 002.183.079l1.524 1.524A6.01 6.01 0 0110 16z"></path></svg><span>Support</span></a><a href="#" class="nav-item" data-page="withdraw-page"><svg fill="currentColor" viewBox="0 0 20 20"><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z" clip-rule="evenodd"></path></svg><span>Withdraw</span></a><a href="#" class="nav-item" data-page="setting-page"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.532 1.532 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.532 1.532 0 01-.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"></path></svg><span>Setting</span></a>`;
        // ... Load other pages and modals HTML here ...
        attachEventListeners();
    }
    
    function attachEventListeners() {
        const modals = { consent: document.getElementById('consent-modal'), welcome: document.getElementById('welcome-modal'), ad: document.getElementById('ad-modal'), withdrawMethod: document.getElementById('withdraw-method-modal'), withdrawForm: document.getElementById('withdraw-form-modal'), helper: document.getElementById('helper-modal') };
        
        // тЪая╕П UPDATED: New function to enter the app
        const enterTheApp = () => {
            localStorage.setItem('quantumEarnConsentGiven', 'true');
            modals.consent.classList.remove('visible');
            setTimeout(() => {
                modals.welcome.classList.add('visible');
            }, 300); // Small delay for smooth transition
        };

        const hasGivenConsent = localStorage.getItem('quantumEarnConsentGiven');
        if (!hasGivenConsent) {
            modals.consent.classList.add('visible');
        } else {
            modals.welcome.classList.add('visible');
        }
        
        const consentCheckboxes = modals.consent.querySelectorAll('input[name="consent"]');
        const consentAcceptBtn = document.getElementById('consent-accept-btn');
        const helperAcceptBtn = document.getElementById('helper-accept-btn');
        const helperCloseBtn = document.getElementById('helper-close-btn');

        const checkConsentState = () => {
            const allChecked = [...consentCheckboxes].every(cb => cb.checked);
            consentAcceptBtn.disabled = !allChecked;
        };
        consentCheckboxes.forEach(checkbox => checkbox.addEventListener('change', checkConsentState));
        checkConsentState(); // Initial check

        consentAcceptBtn.addEventListener('click', () => {
            if (consentAcceptBtn.disabled) {
                modals.helper.classList.add('visible');
            } else {
                enterTheApp();
            }
        });

        helperAcceptBtn.addEventListener('click', () => {
            consentCheckboxes.forEach(cb => cb.checked = true);
            modals.helper.classList.remove('visible');
            enterTheApp(); // Directly enter the app
        });
        helperCloseBtn.addEventListener('click', () => modals.helper.classList.remove('visible'));

        // All other event listeners from the previous correct answer remain the same...
    }

    document.addEventListener('DOMContentLoaded', loadContent);
    </script>
</body>
    </html>
