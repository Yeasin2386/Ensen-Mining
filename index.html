<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>EarnHub - Make Money Online</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <meta name="monetag" content="43e6429a21f320fe82110a8a6c86a0e7">
    <style>
        :root {
            --bg-color: #1a1a1a;
            --card-color: #2c2c2c;
            --text-color: #f0f0f0;
            --secondary-text-color: #b0b0b0;
            --accent-color: #00d68f;
            --button-color: #00d68f;
            --button-text-color: #1a1a1a;
            --border-color: #444;
            --telegram-color: #0088cc;
            --whatsapp-color: #25D366;
            --gmail-color: #EA4335;
            --instagram-color: #E1306C;
            --facebook-color: #1877F2;
            --error-color: #ff6464;
            --success-color: #4CAF50;
        }

        * {
            box-sizing: border-box;
            transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', 'Nunito', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(200deg, #1b263b, #0d1b2a, #1a1a1a);
            background-size: 400% 400%;
            animation: gradientBG 20s ease infinite;
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            line-height: 1.6;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 500px;
            width: 100%;
            margin: auto;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            flex-grow: 1;
            padding-bottom: 80px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            margin-bottom: 25px;
            animation: slideInDown 0.6s ease-out;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .header .back-btn {
            position: absolute;
            left: 0;
            font-size: 1.5em;
            color: var(--secondary-text-color);
            cursor: pointer;
            transition: color 0.3s;
            padding: 5px;
            border-radius: 50%;
        }

        .header .back-btn:hover {
            color: var(--accent-color);
            background-color: rgba(0, 214, 143, 0.1);
        }

        h2, h3, h4 {
            color: #fff;
            margin: 0;
            flex-grow: 1;
        }

        h2 {
            font-size: 1.5em;
            font-weight: 600;
        }

        /* Card Styles */
        .balance-card {
            background: var(--card-color);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-left: 4px solid var(--accent-color);
            animation: fadeInScale 0.8s ease-out;
        }

        .balance-info {
            text-align: left;
        }

        .balance-text {
            font-size: 0.9em;
            color: var(--secondary-text-color);
            margin: 0;
        }

        .balance-value {
            font-size: 1.8em;
            font-weight: bold;
            color: var(--accent-color);
            margin: 5px 0 0 0;
            letter-spacing: 1px;
        }

        .balance-icon {
            font-size: 2.5em;
            color: var(--border-color);
        }

        /* Button Styles */
        .button {
            display: block;
            width: 100%;
            padding: 18px;
            margin-top: 25px;
            background-color: var(--button-color);
            color: var(--button-text-color);
            text-decoration: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .button:hover {
            background-color: #00b377;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        .button:active {
            transform: scale(0.98);
        }

        .button.secondary {
            background-color: var(--border-color);
            color: var(--text-color);
        }

        .button.secondary:hover {
            background-color: #555;
        }

        /* Social Link Styles */
        #telegram-link {
            background-color: var(--telegram-color);
            color: #fff;
            padding: 15px;
            border-radius: 10px;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        #telegram-link:hover {
            background-color: #006699;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        #telegram-link i {
            margin-right: 10px;
            font-size: 1.2em;
        }

        /* Navigation Bar */
        .nav-bar {
            background-color: var(--card-color);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.5);
            border-radius: 15px 15px 0 0;
            z-index: 100;
            backdrop-filter: blur(5px);
        }

        .nav-item {
            text-align: center;
            color: var(--secondary-text-color);
            font-size: 0.8em;
            text-decoration: none;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-item i {
            font-size: 1.5em;
            margin-bottom: 5px;
            display: block;
        }

        .nav-item.active {
            color: var(--accent-color);
            font-weight: bold;
            background-color: rgba(0, 214, 143, 0.1);
        }

        .nav-item:hover {
            color: var(--accent-color);
        }

        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .content-section.active {
            display: block;
        }

        /* List Items */
        .task-list-item, .settings-list .list-item {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            background-color: var(--card-color);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            text-align: left;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            animation: slideInUp 0.5s ease-out;
        }

        .task-list-item:hover, .settings-list .list-item:hover {
            border-left: 3px solid var(--accent-color);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .task-list-item .task-icon {
            font-size: 1.5em;
            width: 25px;
            text-align: center;
        }

        .task-list-item .whatsapp-icon { color: var(--whatsapp-color); }
        .task-list-item .gmail-icon { color: var(--gmail-color); }
        .task-list-item .instagram-icon { color: var(--instagram-color); }
        .task-list-item .facebook-icon { color: var(--facebook-color); }
        .task-list-item .ad-icon { color: var(--accent-color); }

        .settings-list .list-item i {
            color: var(--accent-color);
            font-size: 1.5em;
        }

        /* Sub Content Sections */
        .sub-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
            margin-top: 20px;
        }

        .sub-content.active {
            display: block;
        }

        .sub-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .sub-header h3 {
            margin: 0;
            color: #fff;
        }

        /* Tutorial Sections */
        .whatsapp-tutorial {
            background-color: var(--card-color);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .whatsapp-tutorial .video-placeholder {
            width: 100%;
            height: 200px;
            background-color: #333;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--secondary-text-color);
            font-size: 1.2em;
        }

        .whatsapp-tutorial .step-text {
            color: var(--secondary-text-color);
            text-align: left;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .whatsapp-tutorial .binding-section {
            background-color: #333;
            padding: 15px;
            border-radius: 8px;
            text-align: left;
            margin-top: 15px;
        }

        .whatsapp-tutorial .binding-section h4 {
            margin-top: 0;
            color: var(--accent-color);
        }

        .whatsapp-tutorial .phone-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .whatsapp-tutorial .phone-input-group input {
            flex-grow: 1;
            padding: 12px;
            border-radius: 5px;
            border: 1px solid var(--border-color);
            background-color: #222;
            color: var(--text-color);
            font-size: 1em;
        }

        .whatsapp-tutorial .phone-input-group span {
            padding: 12px;
            background-color: var(--border-color);
            border-radius: 5px;
            color: var(--secondary-text-color);
        }

        .whatsapp-tutorial .verification-code-group {
            display: flex;
            justify-content: space-between;
            gap: 5px;
            margin-top: 15px;
        }

        .whatsapp-tutorial .verification-code-group input {
            width: 50px;
            text-align: center;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid var(--border-color);
            background-color: #222;
            color: var(--text-color);
            font-size: 1.1em;
        }

        .whatsapp-tutorial .status-table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
            text-align: left;
        }

        .whatsapp-tutorial .status-table th, .whatsapp-tutorial .status-table td {
            border: 1px solid var(--border-color);
            padding: 10px;
            color: var(--secondary-text-color);
        }

        .whatsapp-tutorial .status-table th {
            background-color: var(--border-color);
            color: #fff;
        }

        /* Task Button */
        .task-button {
            background-color: var(--accent-color);
            color: var(--button-text-color);
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            white-space: nowrap;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .task-button:hover {
            background-color: #00b377;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .task-button:active {
            transform: scale(0.98);
        }

        .task-button.loading {
            background-color: #555;
            cursor: not-allowed;
        }

        /* Earnings History */
        .earnings-history-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
            text-align: left;
        }

        .earnings-history-list li {
            background-color: var(--card-color);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .earnings-history-list li:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .earnings-history-list li .earning-item {
            color: var(--secondary-text-color);
        }

        .earnings-history-list li .earning-value {
            font-weight: bold;
            color: var(--accent-color);
        }

        /* Rates Card */
        .rates-list-card {
            background-color: var(--card-color);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            margin-bottom: 25px;
            animation: fadeIn 0.8s ease-out;
        }

        .rates-list-card h3 {
            margin: 0 0 15px 0;
            color: #fff;
            font-size: 1.2em;
        }

        .rate-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .rate-item:last-child {
            border-bottom: none;
        }

        .rate-item .label {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--secondary-text-color);
        }

        .rate-item .label i {
            color: var(--accent-color);
            font-size: 1.2em;
        }

        .rate-item .value {
            font-weight: bold;
            color: var(--text-color);
        }

        /* Input Groups */
        .input-group {
            text-align: left;
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--secondary-text-color);
            font-size: 0.9em;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 14px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--card-color);
            color: var(--text-color);
            font-size: 1em;
            box-sizing: border-box;
            transition: all 0.3s ease;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(0, 214, 143, 0.2);
        }

        /* Profile and Password Cards */
        .profile-card, .password-card {
            background-color: var(--card-color);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            text-align: left;
            animation: fadeIn 0.5s ease-out;
        }

        .profile-info-item, .password-info-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .profile-info-item:last-child, .password-info-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .profile-info-item label, .password-info-item label {
            font-weight: bold;
            color: var(--accent-color);
            display: block;
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        .profile-info-item span, .password-info-item span {
            color: var(--text-color);
            display: block;
            font-size: 1em;
        }

        /* Registration Screen */
        #registration-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            animation: fadeIn 0.5s ease-out;
        }

        #registration-form {
            background-color: var(--card-color);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 350px;
            text-align: center;
            animation: slideInUp 0.5s ease-out;
        }

        #registration-form h3 {
            margin-top: 0;
            margin-bottom: 25px;
            color: #fff;
            font-size: 1.5em;
        }

        /* Alert Box */
        .alert-box {
            background-color: rgba(255, 100, 100, 0.2);
            border-left: 4px solid var(--error-color);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            margin-bottom: 20px;
            text-align: left;
            animation: fadeIn 0.5s ease-out;
        }

        .alert-box.success {
            background-color: rgba(76, 175, 80, 0.2);
            border-left: 4px solid var(--success-color);
        }

        .alert-box h4 {
            color: var(--error-color);
            margin: 0 0 5px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .alert-box.success h4 {
            color: var(--success-color);
        }

        .alert-box p {
            font-size: 0.9em;
            color: var(--secondary-text-color);
            margin: 0;
        }

        /* File Upload Section */
        #file-upload-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            padding: 25px 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #file-upload-section:hover {
            border-color: var(--accent-color);
            background-color: rgba(0, 214, 143, 0.05);
        }

        #file-upload-section i {
            font-size: 2em;
            color: var(--secondary-text-color);
            margin-bottom: 10px;
        }

        #file-upload-section p {
            margin: 0;
            color: var(--secondary-text-color);
        }

        #file-upload-section input[type="file"] {
            display: none;
        }

        /* Checkbox Group */
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            margin-bottom: 15px;
        }

        .checkbox-group input {
            width: auto;
            accent-color: var(--accent-color);
        }

        .checkbox-group label {
            color: var(--secondary-text-color);
            font-size: 0.9em;
            cursor: pointer;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes slideInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.8em;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Responsive Adjustments */
        @media (max-width: 400px) {
            .container {
                padding: 15px;
            }
            
            #registration-form {
                padding: 20px;
            }
            
            .button, #telegram-link {
                padding: 15px;
            }
            
            .nav-item {
                font-size: 0.7em;
                padding: 5px;
            }
            
            .nav-item i {
                font-size: 1.3em;
            }
        }
    </style>
</head>
<body>

    <div id="registration-screen">
        <div id="registration-form">
            <h3>Complete Your Profile <i class="fas fa-user-edit"></i></h3>
            
            <div class="input-group">
                <label for="reg-username">Username</label>
                <input type="text" id="reg-username" placeholder="Enter your username">
            </div>
            
            <div class="input-group">
                <label for="reg-nickname">Nickname</label>
                <input type="text" id="reg-nickname" placeholder="What should we call you?">
            </div>
            
            <div class="input-group">
                <label for="reg-phone">Phone Number</label>
                <input type="tel" id="reg-phone" placeholder="11-digit number (e.g. 01712345678)" maxlength="11">
            </div>
            
            <div class="input-group">
                <label for="reg-password">Transaction Password</label>
                <input type="password" id="reg-password" placeholder="6-digit password" maxlength="6">
                <p style="text-align: left; font-size: 0.8em; color: var(--secondary-text-color); margin-top: 5px;">
                    This password will be used for withdrawals and sensitive actions.
                </p>
            </div>
            
            <button class="button" onclick="registerUser()">
                <i class="fas fa-user-plus"></i> Register Now
            </button>
            
            <p style="color: var(--secondary-text-color); font-size: 0.8em; margin-top: 15px;">
                By registering, you agree to our <a href="#" style="color: var(--accent-color);" onclick="showSection('privacy-policy-page')">Privacy Policy</a>
            </p>
        </div>
    </div>

    <div id="main-app" style="display: none;">
        <div class="container">
            
            <!-- Home Section -->
            <div id="home" class="content-section active">
                <div class="header">
                    <h2>Welcome, <span id="welcome-nickname"></span> <i class="fas fa-hand-sparkles"></i></h2>
                </div>
                
                <a id="telegram-link" href="https://t.me/your_telegram_channel" target="_blank">
                    <i class="fab fa-telegram-plane"></i> Join Our Telegram Channel
                </a>

                <div class="balance-card">
                    <div class="balance-info">
                        <p class="balance-text">Your Current Balance</p>
                        <h1 class="balance-value" id="balanceDisplay">0 BDT</h1>
                    </div>
                    <i class="fas fa-wallet balance-icon"></i>
                </div>
                
                <div class="rates-list-card">
                    <h3><i class="fas fa-coins"></i> Today's Rates</h3>
                    <div class="rate-item">
                        <div class="label">
                            <i class="fas fa-envelope"></i>
                            <span>Gmail Account</span>
                        </div>
                        <div class="value" id="gmailRate">500 BDT</div>
                    </div>
                    <div class="rate-item">
                        <div class="label">
                            <i class="fab fa-instagram"></i>
                            <span>Instagram Account</span>
                        </div>
                        <div class="value" id="instagramRate">300 BDT</div>
                    </div>
                    <div class="rate-item">
                        <div class="label">
                            <i class="fas fa-ad"></i>
                            <span>Per Ad View</span>
                        </div>
                        <div class="value" id="adRate">50 BDT</div>
                    </div>
                </div>

                <button class="button" onclick="dailyCheckin()">
                    <i class="fas fa-calendar-check"></i> Daily Check-in
                </button>
            </div>

            <!-- Tasks Section -->
            <div id="tasks" class="content-section">
                <div class="header">
                    <h2><i class="fas fa-tasks"></i> Available Tasks</h2>
                </div>
                
                <div class="task-list-item" onclick="showAd()">
                    <i class="fas fa-ad task-icon ad-icon"></i>
                    <div class="task-info">
                        <h4>Watch Ads</h4>
                        <p>Watch short video ads to earn <span id="adTaskRate">50</span> BDT per view.</p>
                    </div>
                    <button class="task-button" onclick="event.stopPropagation(); showAd();">
                        <i class="fas fa-play"></i> Watch
                    </button>
                </div>
                
                <div class="task-list-item">
                    <i class="fab fa-facebook-f task-icon facebook-icon"></i>
                    <div class="task-info">
                        <h4>Follow on Facebook</h4>
                        <p>Follow our page and earn 30 BDT instantly.</p>
                    </div>
                    <button class="task-button" onclick="event.stopPropagation(); openExternalLink('https://www.facebook.com/your-page', 'facebook');">
                        <i class="fas fa-external-link-alt"></i> Complete
                    </button>
                </div>
                
                <div class="task-list-item">
                    <i class="fab fa-instagram task-icon instagram-icon"></i>
                    <div class="task-info">
                        <h4>Follow on Instagram</h4>
                        <p>Follow our account and earn 25 BDT instantly.</p>
                    </div>
                    <button class="task-button" onclick="event.stopPropagation(); openExternalLink('https://www.instagram.com/your-page', 'instagram');">
                        <i class="fas fa-external-link-alt"></i> Complete
                    </button>
                </div>
            </div>

            <!-- Extra Earning Section -->
            <div id="extra-earning" class="content-section">
                <div class="header">
                    <h2><i class="fas fa-money-bill-wave"></i> Extra Earnings</h2>
                </div>
                
                <div class="task-list-item" onclick="showSubSection('whatsapp-task')">
                    <i class="fab fa-whatsapp task-icon whatsapp-icon"></i>
                    <div class="task-info">
                        <h4>Connect WhatsApp</h4>
                        <p>Connect your WhatsApp number to earn 200 BDT.</p>
                    </div>
                    <button class="task-button" onclick="event.stopPropagation(); showSubSection('whatsapp-task');">
                        <i class="fas fa-link"></i> Connect
                    </button>
                </div>
                
                <div class="task-list-item" onclick="showSubSection('gmail-sell')">
                    <i class="fas fa-envelope task-icon gmail-icon"></i>
                    <div class="task-info">
                        <h4>Sell Gmail Account</h4>
                        <p>Sell your Gmail account for <span id="gmailTaskRate">500</span> BDT each.</p>
                    </div>
                    <button class="task-button" onclick="event.stopPropagation(); showSubSection('gmail-sell');">
                        <i class="fas fa-dollar-sign"></i> Sell
                    </button>
                </div>
                
                <div class="task-list-item" onclick="showSubSection('instagram-sell')">
                    <i class="fab fa-instagram task-icon instagram-icon"></i>
                    <div class="task-info">
                        <h4>Sell Instagram Account</h4>
                        <p>Sell your Instagram account for <span id="instagramTaskRate">300</span> BDT each.</p>
                    </div>
                    <button class="task-button" onclick="event.stopPropagation(); showSubSection('instagram-sell');">
                        <i class="fas fa-dollar-sign"></i> Sell
                    </button>
                </div>
            </div>

            <!-- Referral Section -->
            <div id="referral" class="content-section">
                <div class="header">
                    <h2><i class="fas fa-users"></i> Referral Program</h2>
                </div>
                
                <div class="balance-card">
                    <div class="balance-info">
                        <p class="balance-text">Total Referrals</p>
                        <h1 class="balance-value" id="totalReferrals">0</h1>
                    </div>
                    <i class="fas fa-user-plus balance-icon"></i>
                </div>
                
                <p style="margin-top: -15px; color:var(--secondary-text-color);">
                    Earn 100 BDT for each friend who joins using your link!
                </p>
                
                <div class="task-list-item" style="border-left: 3px solid var(--border-color);">
                    <div class="task-info">
                        <h4>Your Referral Link</h4>
                        <p id="referralLink">https://your-mini-app-url.vercel.app/?ref=USER_ID</p>
                    </div>
                    <button class="task-button" onclick="copyLink()" style="background-color: var(--border-color);">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                </div>
                
                <div class="alert-box" style="margin-top: 20px;">
                    <h4><i class="fas fa-lightbulb"></i> Pro Tip</h4>
                    <p>
                        Share your referral link on social media to earn more! The more friends join, the more you earn.
                    </p>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="settings" class="content-section">
                <div class="header">
                    <h2><i class="fas fa-cog"></i> Settings</h2>
                </div>
                
                <div class="settings-list">
                    <div class="list-item" onclick="showSubSection('profile-page')">
                        <i class="fas fa-user"></i>
                        <h4>Profile</h4>
                    </div>
                    
                    <div class="list-item" onclick="showSubSection('withdraw-page')">
                        <i class="fas fa-wallet"></i>
                        <h4>Withdraw</h4>
                    </div>
                    
                    <div class="list-item" onclick="showSubSection('history-page')">
                        <i class="fas fa-history"></i>
                        <h4>Withdrawal History</h4>
                    </div>
                    
                    <div class="list-item" onclick="showSubSection('earnings-history-page')">
                        <i class="fas fa-chart-line"></i>
                        <h4>Earnings Report</h4>
                    </div>
                    
                    <div class="list-item" onclick="showSubSection('change-password-page')">
                        <i class="fas fa-lock"></i>
                        <h4>Change Password</h4>
                    </div>
                    
                    <div class="list-item" onclick="showSubSection('privacy-policy-page')">
                        <i class="fas fa-shield-alt"></i>
                        <h4>Privacy Policy</h4>
                    </div>
                </div>
            </div>

            <!-- Profile Page -->
            <div id="profile-page" class="content-section">
                <div class="header">
                    <i class="fas fa-arrow-left back-btn" onclick="showSection('settings')"></i>
                    <h2>Your Profile</h2>
                </div>
                
                <div class="profile-card">
                    <div class="profile-info-item">
                        <label><i class="fas fa-user-tag"></i> Username</label>
                        <span id="profileUsername"></span>
                    </div>
                    
                    <div class="profile-info-item">
                        <label><i class="fas fa-signature"></i> Nickname</label>
                        <span id="profileNickname"></span>
                    </div>
                    
                    <div class="profile-info-item">
                        <label><i class="fas fa-phone"></i> Phone Number</label>
                        <span id="profilePhoneNumber"></span>
                    </div>
                </div>
                
                <button class="button secondary" onclick="showSection('settings')">
                    <i class="fas fa-arrow-left"></i> Back to Settings
                </button>
            </div>

            <!-- Withdraw Page -->
            <div id="withdraw-page" class="content-section">
                <div class="header">
                    <i class="fas fa-arrow-left back-btn" onclick="showSection('settings')"></i>
                    <h2><i class="fas fa-money-bill-wave"></i> Withdraw Funds</h2>
                </div>
                
                <div class="input-group">
                    <label for="amount"><i class="fas fa-coins"></i> Amount (BDT)</label>
                    <input type="number" id="amount" placeholder="Minimum 500 BDT">
                </div>
                
                <div class="input-group">
                    <label for="method"><i class="fas fa-money-check-alt"></i> Payment Method</label>
                    <select id="method">
                        <option value="bkash">bKash</option>
                        <option value="binance">Binance</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="account"><i class="fas fa-id-card"></i> Account Number/ID</label>
                    <input type="text" id="account" placeholder="Your bKash/Binance details">
                </div>
                
                <div class="input-group">
                    <label for="transaction-password"><i class="fas fa-lock"></i> Transaction Password</label>
                    <input type="password" id="transaction-password" placeholder="6-digit password">
                </div>
                
                <button class="button" onclick="requestWithdraw()">
                    <i class="fas fa-paper-plane"></i> Request Withdrawal
                </button>
                
                <div class="alert-box" style="margin-top: 20px;">
                    <h4><i class="fas fa-info-circle"></i> Important</h4>
                    <p>
                        Withdrawal requests are processed within 24 hours. Minimum withdrawal amount is 500 BDT.
                    </p>
                </div>
            </div>

            <!-- History Page -->
            <div id="history-page" class="content-section">
                <div class="header">
                    <i class="fas fa-arrow-left back-btn" onclick="showSection('settings')"></i>
                    <h2><i class="fas fa-receipt"></i> Withdrawal History</h2>
                </div>
                
                <p style="color: var(--secondary-text-color); text-align: center; margin-top: 30px;">
                    <i class="fas fa-history" style="font-size: 2em; opacity: 0.5;"></i><br>
                    No withdrawal history available yet.
                </p>
                
                <button class="button secondary" onclick="showSection('settings')" style="margin-top: 30px;">
                    <i class="fas fa-arrow-left"></i> Back to Settings
                </button>
            </div>

            <!-- Earnings Report Page -->
            <div id="earnings-history-page" class="content-section">
                <div class="header">
                    <i class="fas fa-arrow-left back-btn" onclick="showSection('settings')"></i>
                    <h2><i class="fas fa-chart-pie"></i> Earnings Report</h2>
                </div>
                
                <ul class="earnings-history-list">
                    <li>
                        <span class="earning-item">Total Ads Watched:</span>
                        <span class="earning-value" id="adsWatchedCount">0</span>
                    </li>
                    <li>
                        <span class="earning-item">Accounts Sold:</span>
                        <span class="earning-value" id="accountsSoldCount">0</span>
                    </li>
                    <li>
                        <span class="earning-item">Total Task Earnings:</span>
                        <span class="earning-value" id="taskEarnings">0 BDT</span>
                    </li>
                    <li>
                        <span class="earning-item">Referral Earnings:</span>
                        <span class="earning-value" id="referralEarnings">0 BDT</span>
                    </li>
                    <li>
                        <span class="earning-item">Total Withdrawn:</span>
                        <span class="earning-value" id="totalWithdrawn">0 BDT</span>
                    </li>
                </ul>
                
                <button class="button secondary" onclick="showSection('settings')" style="margin-top: 20px;">
                    <i class="fas fa-arrow-left"></i> Back to Settings
                </button>
            </div>
            
            <!-- Change Password Page -->
            <div id="change-password-page" class="content-section">
                <div class="header">
                    <i class="fas fa-arrow-left back-btn" onclick="showSection('settings')"></i>
                    <h2><i class="fas fa-key"></i> Change Password</h2>
                </div>
                
                <div class="password-card">
                    <div class="input-group">
                        <label for="old-password"><i class="fas fa-lock"></i> Current Password</label>
                        <input type="password" id="old-password" placeholder="Enter current password">
                    </div>
                    
                    <div class="input-group">
                        <label for="new-password"><i class="fas fa-key"></i> New Password</label>
                        <input type="password" id="new-password" placeholder="6-digit new password">
                    </div>
                    
                    <div class="input-group">
                        <label for="confirm-password"><i class="fas fa-check-circle"></i> Confirm Password</label>
                        <input type="password" id="confirm-password" placeholder="Confirm new password">
                    </div>
                    
                    <button class="button" onclick="changeTransactionPassword()">
                        <i class="fas fa-save"></i> Update Password
                    </button>
                </div>
                
                <div class="alert-box" style="margin-top: 20px;">
                    <h4><i class="fas fa-exclamation-triangle"></i> Security Tip</h4>
                    <p>
                        Never share your password with anyone. Our team will never ask for your password.
                    </p>
                </div>
            </div>

            <!-- Privacy Policy Page -->
            <div id="privacy-policy-page" class="content-section">
                <div class="header">
                    <i class="fas fa-arrow-left back-btn" onclick="showSection('settings')"></i>
                    <h2><i class="fas fa-shield-alt"></i> Privacy Policy</h2>
                </div>
                
                <div class="profile-card">
                    <h3 style="color: var(--accent-color); margin-bottom: 15px;">
                        <i class="fas fa-lock"></i> Your Privacy Matters
                    </h3>
                    
                    <p style="color: var(--secondary-text-color); margin-bottom: 20px;">
                        We are committed to protecting your personal information. This policy explains what data we collect and how we use it.
                    </p>
                    
                    <h4 style="color: #fff; margin-top: 20px; margin-bottom: 10px;">
                        <i class="fas fa-clipboard-list"></i> What We Collect
                    </h4>
                    <p style="color: var(--secondary-text-color);">
                        We collect information you provide directly, such as your username, nickname, and phone number when you register. This data is stored locally on your device to manage your profile and balance.
                    </p>
                    
                    <h4 style="color: #fff; margin-top: 20px; margin-bottom: 10px;">
                        <i class="fas fa-cogs"></i> How We Use Your Data
                    </h4>
                    <p style="color: var(--secondary-text-color);">
                        - To manage your account and track your earnings<br>
                        - To process your withdrawal requests<br>
                        - To communicate with you regarding your account and tasks
                    </p>
                    
                    <h4 style="color: #fff; margin-top: 20px; margin-bottom: 10px;">
                        <i class="fas fa-user-shield"></i> Data Security
                    </h4>
                    <p style="color: var(--secondary-text-color);">
                        We take reasonable precautions to protect your data. However, as this is a client-side application, please be aware that the security is limited to your device.
                    </p>
                    
                    <p style="color: var(--secondary-text-color); margin-top: 20px; font-size: 0.9em;">
                        <i class="fas fa-info-circle"></i> Last updated: August 2023
                    </p>
                </div>
                
                <button class="button secondary" onclick="showSection('settings')" style="margin-top: 20px;">
                    <i class="fas fa-arrow-left"></i> Back to Settings
                </button>
            </div>

            <!-- WhatsApp Task Page -->
            <div id="whatsapp-task" class="content-section">
                <div class="header">
                    <i class="fas fa-arrow-left back-btn" onclick="showSection('extra-earning')"></i>
                    <h2><i class="fab fa-whatsapp"></i> Connect WhatsApp</h2>
                </div>
                
                <p style="text-align:center; color:var(--secondary-text-color); margin-bottom: 20px;">
                    আপনার হোয়াটসঅ্যাপ নাম্বার জমা দিন এবং ২০০ টাকা ইনকাম করুন!
                </p>
                
                <div class="whatsapp-tutorial">
                    <div class="binding-section">
                        <h4 style="color: var(--whatsapp-color);">
                            <i class="fab fa-whatsapp"></i> হোয়াটসঅ্যাপ সংযুক্ত করুন
                        </h4>
                        
                        <p style="font-size: 0.9em; margin-top: 10px; color: var(--secondary-text-color);">
                            অনুগ্রহ করে আপনার হোয়াটসঅ্যাপ নম্বরটি নিচে দিন। এই নম্বরটি শুধুমাত্র ভেরিফিকেশনের জন্য ব্যবহার করা হবে।
                        </p>
                        
                        <div class="phone-input-group">
                            <span>+880</span>
                            <input type="tel" id="whatsapp-phone" placeholder="আপনার ফোন নম্বর লিখুন" maxlength="11">
                        </div>
                        
                        <button class="button" style="margin-top: 15px;" onclick="submitWhatsApp()">
                            <i class="fas fa-paper-plane"></i> জমা দিন
                        </button>
                        
                        <p id="whatsapp-message" style="margin-top: 20px; color: var(--accent-color); font-weight: bold; display: none;"></p>
                    </div>
                </div>
                
                <div class="alert-box" style="margin-top: 20px;">
                    <h4><i class="fas fa-info-circle"></i> তথ্য</h4>
                    <p>
                        হোয়াটসঅ্যাপ কানেকশন সম্পূর্ণ করতে আমাদের টেলিগ্রাম সাপোর্ট গ্রুপে যোগাযোগ করুন। আপনার নাম্বারটি শুধুমাত্র একবার জমা দিতে পারবেন।
                    </p>
                </div>
            </div>

            <!-- Gmail Sell Page -->
            <div id="gmail-sell" class="content-section">
                <div class="header">
                    <i class="fas fa-arrow-left back-btn" onclick="showSection('extra-earning')"></i>
                    <h2><i class="fas fa-envelope"></i> Sell Gmail Accounts</h2>
                </div>
                
                <div class="rates-list-card" style="margin-bottom: 20px;">
                    <h3><i class="fas fa-tags"></i> আজকের রেট</h3>
                    <div class="rate-item">
                        <div class="label">
                            <i class="fas fa-envelope"></i>
                            <span>প্রতিটি Gmail Account</span>
                        </div>
                        <div class="value" id="gmailSellRate">500 BDT</div>
                    </div>
                </div>
                
                <div class="alert-box">
                    <h4><i class="fas fa-exclamation-triangle"></i> সতর্কতা!</h4>
                    <p>
                        জিমেইল দেওয়ার পর কোনো রকম পাসওয়ার্ড চেঞ্জ করবেন না। যদি চেঞ্জ করেন বা কোনো কারণে যদি জিমেইল অ্যাকাউন্ট কানেক্ট না করা যায়, তাহলে আপনার টাকা দেওয়া হবে না। এখানে দুই নাম্বারি চলে না।
                    </p>
                </div>
                
                <div class="input-group">
                    <label for="gmail-count"><i class="fas fa-calculator"></i> কয়টা জিমেইল দিয়েছেন?</label>
                    <input type="number" id="gmail-count" placeholder="যেমন: ১, ২, ৩" min="1">
                </div>
                
                <div id="file-upload-section" onclick="document.getElementById('gmail-file').click();">
                    <i class="fas fa-file-upload"></i>
                    <p>এখানে ক্লিক করে ফাইল আপলোড করুন</p>
                    <p style="font-size: 0.8em;">(শুধুমাত্র .txt বা .csv ফাইল)</p>
                    <input type="file" id="gmail-file" accept=".txt, .csv" style="display: none;">
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="password-sure" required>
                    <label for="password-sure">আমি নিশ্চিত যে পাসওয়ার্ড ১০০% সঠিক</label>
                </div>
                
                <button class="button" onclick="submitGmail()">
                    <i class="fas fa-check-circle"></i> সাবমিট করুন
                </button>
                
                <p id="gmail-message" style="margin-top: 20px; color: var(--accent-color); font-weight: bold; display: none;"></p>
                
                <div class="alert-box success" style="margin-top: 20px;">
                    <h4><i class="fas fa-lightbulb"></i> সহায়তা</h4>
                    <p>
                        ফাইলের ফরমেট: প্রতিটি লাইনে একটি জিমেইল এবং পাসওয়ার্ড (email:password) ফরমেটে লিখুন। ফাইল জমা দেওয়ার পর আমাদের টেলিগ্রামে মেসেজ দিন।
                    </p>
                </div>
            </div>

            <!-- Instagram Sell Page -->
            <div id="instagram-sell" class="content-section">
                <div class="header">
                    <i class="fas fa-arrow-left back-btn" onclick="showSection('extra-earning')"></i>
                    <h2><i class="fab fa-instagram"></i> Sell Instagram Accounts</h2>
                </div>
                
                <div class="rates-list-card" style="margin-bottom: 20px;">
                    <h3><i class="fas fa-tags"></i> আজকের রেট</h3>
                    <div class="rate-item">
                        <div class="label">
                            <i class="fab fa-instagram"></i>
                            <span>প্রতিটি Instagram Account</span>
                        </div>
                        <div class="value" id="instagramSellRate">300 BDT</div>
                    </div>
                </div>
                
                <div class="alert-box">
                    <h4><i class="fas fa-exclamation-triangle"></i> সতর্কতা!</h4>
                    <p>
                        ইনস্টাগ্রাম অ্যাকাউন্ট দেওয়ার পর কোনো রকম পাসওয়ার্ড চেঞ্জ করবেন না। যদি চেঞ্জ করেন বা কোনো কারণে যদি অ্যাকাউন্ট কানেক্ট না করা যায়, তাহলে আপনার টাকা দেওয়া হবে না।
                    </p>
                </div>
                
                <div class="input-group">
                    <label for="insta-count"><i class="fas fa-calculator"></i> কয়টা ইনস্টাগ্রাম দিয়েছেন?</label>
                    <input type="number" id="insta-count" placeholder="যেমন: ১, ২, ৩" min="1">
                </div>
                
                <div id="file-upload-section" onclick="document.getElementById('insta-file').click();">
                    <i class="fas fa-file-upload"></i>
                    <p>এখানে ক্লিক করে ফাইল আপলোড করুন</p>
                    <p style="font-size: 0.8em;">(শুধুমাত্র .txt বা .csv ফাইল)</p>
                    <input type="file" id="insta-file" accept=".txt, .csv" style="display: none;">
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="insta-password-sure" required>
                    <label for="insta-password-sure">আমি নিশ্চিত যে পাসওয়ার্ড ১০০% সঠিক</label>
                </div>
                
                <button class="button" onclick="submitInstagram()">
                    <i class="fas fa-check-circle"></i> সাবমিট করুন
                </button>
                
                <p id="instagram-message" style="margin-top: 20px; color: var(--accent-color); font-weight: bold; display: none;"></p>
            </div>

        </div>

        <!-- Bottom Navigation Bar -->
        <div class="nav-bar">
            <a class="nav-item active" onclick="showSection('home', this)">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a class="nav-item" onclick="showSection('tasks', this)">
                <i class="fas fa-tasks"></i>
                <span>Tasks</span>
            </a>
            <a class="nav-item" onclick="showSection('extra-earning', this)">
                <i class="fas fa-coins"></i>
                <span>Extra</span>
            </a>
            <a class="nav-item" onclick="showSection('referral', this)">
                <i class="fas fa-users"></i>
                <span>Referral</span>
            </a>
            <a class="nav-item" onclick="showSection('settings', this)">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </div>
    </div>

    <script>
        // Constants
        const GMAIL_RATE = 500;
        const INSTAGRAM_RATE = 300;
        const AD_RATE = 50;
        const DAILY_CHECKIN_BDT = 50;
        const FB_FOLLOW_RATE = 30;
        const INSTA_JOIN_RATE = 25;
        const REFERRAL_BONUS = 100;
        const DAILY_CHECKIN_CODE = "TELEGRAM_CODE123";
        const FB_CODE = "FB123";
        const INSTA_CODE = "IG123";
        const MIN_WITHDRAWAL = 500;
        
        const MONETAG_AD_URL = 'https://otieu.com/4/9721070';

        // User Data Variables
        let balance = 0;
        let username = "";
        let nickname = "";
        let phoneNumber = "";
        let transactionPassword = "";
        let totalReferrals = 0;
        let adsWatched = 0;
        let accountsSold = 0;
        let taskEarnings = 0;
        let referralEarnings = 0;
        let totalWithdrawn = 0;

        // DOM Content Loaded
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            checkReferral();
        });

        // Load User Data from LocalStorage
        function loadData() {
            const userData = JSON.parse(localStorage.getItem('userData'));
            if (userData) {
                username = userData.username || "";
                nickname = userData.nickname || "";
                phoneNumber = userData.phoneNumber || "";
                transactionPassword = userData.transactionPassword || "";
                balance = userData.balance || 0;
                totalReferrals = userData.totalReferrals || 0;
                adsWatched = userData.adsWatched || 0;
                accountsSold = userData.accountsSold || 0;
                taskEarnings = userData.taskEarnings || 0;
                referralEarnings = userData.referralEarnings || 0;
                totalWithdrawn = userData.totalWithdrawn || 0;

                document.getElementById('registration-screen').style.display = 'none';
                document.getElementById('main-app').style.display = 'block';
                updateUI();
            } else {
                document.getElementById('registration-screen').style.display = 'flex';
                document.getElementById('main-app').style.display = 'none';
            }
        }

        // Check for Referral Parameter in URL
        function checkReferral() {
            const urlParams = new URLSearchParams(window.location.search);
            const ref = urlParams.get('ref');
            
            if (ref && !localStorage.getItem('userData') && !localStorage.getItem('referralChecked')) {
                localStorage.setItem('referralPending', ref);
                localStorage.setItem('referralChecked', 'true');
            }
        }

        // Register New User
        function registerUser() {
            const regUsername = document.getElementById('reg-username').value.trim();
            const regNickname = document.getElementById('reg-nickname').value.trim();
            const regPhone = document.getElementById('reg-phone').value.trim();
            const regPassword = document.getElementById('reg-password').value.trim();

            // Validation
            if (!regUsername || !regNickname || !regPhone || !regPassword) {
                showAlert("Please fill in all the details.");
                return;
            }

            if (regUsername === regNickname) {
                showAlert("Username and Nickname cannot be the same. Please choose a different nickname.");
                return;
            }

            if (regPhone.length !== 11 || isNaN(regPhone)) {
                showAlert("Phone Number must be an 11-digit number.");
                return;
            }

            if (regPassword.length !== 6 || isNaN(regPassword)) {
                showAlert("Transaction Password must be a 6-digit number.");
                return;
            }

            // Check for pending referral
            const referralPending = localStorage.getItem('referralPending');
            if (referralPending) {
                totalReferrals = 1; // For admin panel tracking
                referralEarnings += REFERRAL_BONUS;
                balance += REFERRAL_BONUS;
                localStorage.removeItem('referralPending');
            }

            // Create user data object
            const userData = {
                username: regUsername,
                nickname: regNickname,
                phoneNumber: regPhone,
                transactionPassword: regPassword,
                balance: balance,
                totalReferrals: totalReferrals,
                adsWatched: adsWatched,
                accountsSold: accountsSold,
                taskEarnings: taskEarnings,
                referralEarnings: referralEarnings,
                totalWithdrawn: totalWithdrawn
            };

            // Save to localStorage
            localStorage.setItem('userData', JSON.stringify(userData));
            
            // Update referral link
            updateReferralLink(regUsername);
            
            // Load the app
            loadData();
            
            // Show welcome message
            showAlert(`Welcome ${regNickname}! You've successfully registered.`, 'success');
        }

        // Update UI with current data
        function updateUI() {
            document.getElementById('welcome-nickname').textContent = nickname;
            document.getElementById('balanceDisplay').textContent = balance.toLocaleString() + ' BDT';
            
            document.getElementById('gmailRate').textContent = GMAIL_RATE + ' BDT';
            document.getElementById('instagramRate').textContent = INSTAGRAM_RATE + ' BDT';
            document.getElementById('adRate').textContent = AD_RATE + ' BDT';

            document.getElementById('adTaskRate').textContent = AD_RATE;
            document.getElementById('gmailTaskRate').textContent = GMAIL_RATE;
            document.getElementById('instagramTaskRate').textContent = INSTAGRAM_RATE;
            
            document.getElementById('profileUsername').textContent = username;
            document.getElementById('profileNickname').textContent = nickname;
            document.getElementById('profilePhoneNumber').textContent = phoneNumber;
            document.getElementById('totalReferrals').textContent = totalReferrals;
            
            document.getElementById('adsWatchedCount').textContent = adsWatched;
            document.getElementById('accountsSoldCount').textContent = accountsSold;
            document.getElementById('taskEarnings').textContent = taskEarnings.toLocaleString() + ' BDT';
            document.getElementById('referralEarnings').textContent = referralEarnings.toLocaleString() + ' BDT';
            document.getElementById('totalWithdrawn').textContent = totalWithdrawn.toLocaleString() + ' BDT';

            document.getElementById('gmailSellRate').textContent = GMAIL_RATE + ' BDT';
            document.getElementById('instagramSellRate').textContent = INSTAGRAM_RATE + ' BDT';

            saveData();
        }

        // Update Referral Link
        function updateReferralLink(username) {
            const currentUrl = window.location.href.split('?')[0];
            document.getElementById('referralLink').textContent = `${currentUrl}?ref=${username}`;
        }

        // Save Data to LocalStorage
        function saveData() {
            const userData = {
                username,
                nickname,
                phoneNumber,
                transactionPassword,
                balance,
                totalReferrals,
                adsWatched,
                accountsSold,
                taskEarnings,
                referralEarnings,
                totalWithdrawn
            };
            localStorage.setItem('userData', JSON.stringify(userData));
        }

        // Show Alert Message
        function showAlert(message, type = 'error') {
            alert(message); // Simple alert for now, can be replaced with modal
        }

        // Show Section
        function showSection(sectionId, element) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
            });
            
            if (element) {
                element.classList.add('active');
            } else {
                // Find the corresponding nav item and activate it
                const navItems = document.querySelectorAll('.nav-item');
                navItems.forEach(item => {
                    if (item.getAttribute('onclick')?.includes(sectionId)) {
                        item.classList.add('active');
                    }
                });
            }
        }

        // Show Sub Section
        function showSubSection(subId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(subId).classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
            });
            
            const parentSection = getParentSection(subId);
            const parentNav = document.querySelector(`.nav-item[onclick*="showSection('${parentSection}')"]`);
            if (parentNav) {
                parentNav.classList.add('active');
            }
        }
        
        // Get Parent Section
        function getParentSection(subId) {
            if (subId.includes('page')) return 'settings';
            if (subId.includes('task') || subId.includes('sell')) return 'extra-earning';
            return 'home';
        }

        // Submit WhatsApp Number
        function submitWhatsApp() {
            const phone = document.getElementById('whatsapp-phone').value.trim();
            if (phone.length !== 11 || isNaN(phone)) {
                showAlert("অনুগ্রহ করে একটি ১১-সংখ্যার সঠিক ফোন নম্বর লিখুন।");
                return;
            }
            
            const messageElement = document.getElementById('whatsapp-message');
            messageElement.textContent = `আপনার হোয়াটসঅ্যাপ নাম্বার (${phone}) জমা হয়েছে। হোয়াটসঅ্যাপ কানেকশন সম্পূর্ণ করতে আমাদের টেলিগ্রাম সাপোর্ট গ্রুপে যোগাযোগ করুন।`;
            messageElement.style.display = 'block';
            
            // Simulate task completion
            setTimeout(() => {
                completeTask('whatsapp');
                showSubSection('extra-earning');
            }, 2000);
        }

        // Submit Gmail Accounts
        function submitGmail() {
            const count = parseInt(document.getElementById('gmail-count').value);
            const file = document.getElementById('gmail-file').files[0];
            const sure = document.getElementById('password-sure').checked;

            if (!count || count < 1) {
                showAlert("অনুগ্রহ করে জিমেইল অ্যাকাউন্টের সংখ্যা সঠিকভাবে লিখুন।");
                return;
            }

            if (!file) {
                showAlert("অনুগ্রহ করে জিমেইল অ্যাকাউন্টের ফাইল আপলোড করুন।");
                return;
            }

            if (!sure) {
                showAlert("আপনাকে নিশ্চিত করতে হবে যে পাসওয়ার্ড ১০০% সঠিক।");
                return;
            }

            const messageElement = document.getElementById('gmail-message');
            messageElement.textContent = `আপনার ${count}টি জিমেইল অ্যাকাউন্টের ফাইল জমা দেওয়া হয়েছে। অনুগ্রহ করে পেমেন্টের জন্য আমাদের টেলিগ্রাম সাপোর্ট গ্রুপে যোগাযোগ করুন।`;
            messageElement.style.display = 'block';
            
            // Simulate task completion
            setTimeout(() => {
                completeTask('gmail');
                showSubSection('extra-earning');
            }, 2000);
        }

        // Submit Instagram Accounts
        function submitInstagram() {
            const count = parseInt(document.getElementById('insta-count').value);
            const file = document.getElementById('insta-file').files[0];
            const sure = document.getElementById('insta-password-sure').checked;

            if (!count || count < 1) {
                showAlert("অনুগ্রহ করে ইনস্টাগ্রাম অ্যাকাউন্টের সংখ্যা সঠিকভাবে লিখুন।");
                return;
            }

            if (!file) {
                showAlert("অনুগ্রহ করে ইনস্টাগ্রাম অ্যাকাউন্টের ফাইল আপলোড করুন।");
                return;
            }

            if (!sure) {
                showAlert("আপনাকে নিশ্চিত করতে হবে যে পাসওয়ার্ড ১০০% সঠিক।");
                return;
            }

            const messageElement = document.getElementById('instagram-message');
            messageElement.textContent = `আপনার ${count}টি ইনস্টাগ্রাম অ্যাকাউন্টের ফাইল জমা দেওয়া হয়েছে। অনুগ্রহ করে পেমেন্টের জন্য আমাদের টেলিগ্রাম সাপোর্ট গ্রুপে যোগাযোগ করুন।`;
            messageElement.style.display = 'block';
            
            // Simulate task completion
            setTimeout(() => {
                completeTask('instagram');
                showSubSection('extra-earning');
            }, 2000);
        }

        // Change Transaction Password
        function changeTransactionPassword() {
            const oldPassword = document.getElementById('old-password').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;

            if (oldPassword !== transactionPassword) {
                showAlert("Incorrect current password.");
                return;
            }

            if (newPassword !== confirmPassword) {
                showAlert("New passwords do not match.");
                return;
            }

            if (newPassword.length !== 6 || isNaN(newPassword)) {
                showAlert("New password must be a 6-digit number.");
                return;
            }

            transactionPassword = newPassword;
            const userData = JSON.parse(localStorage.getItem('userData'));
            userData.transactionPassword = newPassword;
            localStorage.setItem('userData', JSON.stringify(userData));
            
            showAlert("Transaction password changed successfully!", 'success');
            
            // Clear fields
            document.getElementById('old-password').value = '';
            document.getElementById('new-password').value = '';
            document.getElementById('confirm-password').value = '';
            
            // Go back to settings
            showSection('settings');
        }

        // Daily Check-in
        function dailyCheckin() {
            const userCode = prompt("Please enter the daily check-in code from our Telegram channel:");
            
            if (userCode === DAILY_CHECKIN_CODE) {
                balance += DAILY_CHECKIN_BDT;
                taskEarnings += DAILY_CHECKIN_BDT;
                updateUI();
                showAlert(`You have received ${DAILY_CHECKIN_BDT} BDT for Daily Check-in!`, 'success');
            } else if (userCode) {
                showAlert("Invalid code. Please check our Telegram channel for the correct code.");
            }
        }

        // Show Ad
        function showAd() {
            // Open ad in new tab
            window.open(MONETAG_AD_URL, '_blank');
            
            // Simulate ad completion after delay
            setTimeout(() => {
                completeTask('ads');
            }, 3000);
        }

        // Open External Link for Tasks
        function openExternalLink(url, taskName) {
            window.open(url, '_blank');
            
            // Ask for verification code after delay
            setTimeout(() => {
                let code = '';
                if (taskName === 'facebook') {
                    code = prompt("Please enter the verification code from the Facebook page:");
                    if (code === FB_CODE) {
                        completeTask('facebook');
                    } else if (code) {
                        showAlert("Incorrect code. Task not completed.");
                    }
                } else if (taskName === 'instagram') {
                    code = prompt("Please enter the verification code from the Instagram page:");
                    if (code === INSTA_CODE) {
                        completeTask('instaJoin');
                    } else if (code) {
                        showAlert("Incorrect code. Task not completed.");
                    }
                }
            }, 3000);
        }

        // Complete Task and Add Earnings
        function completeTask(taskName) {
            let bdt = 0;
            let message = "";
            
            switch(taskName) {
                case 'ads':
                    bdt = AD_RATE;
                    adsWatched++;
                    message = `You watched an ad and earned ${bdt} BDT.`;
                    break;
                case 'gmail':
                    bdt = GMAIL_RATE;
                    accountsSold++;
                    message = `You sold a Gmail account and earned ${bdt} BDT.`;
                    break;
                case 'whatsapp':
                    bdt = 200;
                    message = `You connected your WhatsApp number and earned ${bdt} BDT.`;
                    break;
                case 'instagram':
                    bdt = INSTAGRAM_RATE;
                    accountsSold++;
                    message = `You sold an Instagram account and earned ${bdt} BDT.`;
                    break;
                case 'facebook':
                    bdt = FB_FOLLOW_RATE;
                    message = `You followed on Facebook and earned ${bdt} BDT.`;
                    break;
                case 'instaJoin':
                    bdt = INSTA_JOIN_RATE;
                    message = `You followed on Instagram and earned ${bdt} BDT.`;
                    break;
                default:
                    return;
            }
            
            balance += bdt;
            taskEarnings += bdt;
            updateUI();
            showAlert(message, 'success');
        }
        
        // Request Withdrawal
        function requestWithdraw() {
            const amount = parseInt(document.getElementById('amount').value);
            const method = document.getElementById('method').value;
            const account = document.getElementById('account').value.trim();
            const password = document.getElementById('transaction-password').value;

            if (!amount || !method || !account || !password) {
                showAlert("Please fill in all the details.");
                return;
            }

            if (password !== transactionPassword) {
                showAlert("Invalid transaction password.");
                return;
            }

            if (amount < MIN_WITHDRAWAL) {
                showAlert(`Minimum withdrawal amount is ${MIN_WITHDRAWAL} BDT.`);
                return;
            }

            if (amount > balance) {
                showAlert("Not enough balance to withdraw.");
                return;
            }

            balance -= amount;
            totalWithdrawn += amount;
            updateUI();
            
            showAlert(`Withdrawal request for ${amount} BDT via ${method} to ${account} has been submitted. Our team will process it within 24 hours.`, 'success');
            
            // Clear fields
            document.getElementById('amount').value = '';
            document.getElementById('account').value = '';
            document.getElementById('transaction-password').value = '';
        }

        // Copy Referral Link
        function copyLink() {
            const referralLink = document.getElementById('referralLink').textContent;
            navigator.clipboard.writeText(referralLink)
                .then(() => showAlert('Referral link copied to clipboard!', 'success'))
                .catch(err => console.error('Failed to copy text: ', err));
        }
    </script>
</body>
</html>
